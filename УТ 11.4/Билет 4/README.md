

#### Билет № 4
Задачи 1.1 & 2.33 Сборника по УТ11.4

###### ч.1
###### Постановка

- Сложная Структура Компании:
    - Три Юрлица:
        - "Опт МСК", ОСН - централизованная закупка & оптовые продажи;
        - "Опт Яр" , ОСН - оптовые продажи;
        - "Розница Яр", УСН   - розничные продажи.
    - Три Вида Цен: 
        - Трансфертный  + 3 %  Цены поступления в "Опт МСК";
        - Оптовый  + 10 % Цены поступления в "Опт МСК";
        - Розничный + 20 % Цены поступления в "Опт МСК".   
    - Номенклатура НЕ ИМЕЕТ специфики Учета;
- Поставщик Холдинг "Всё для вас";
    - Три Юр.лица.
###### Необходимо

- Ввести: 
    - Структуру Предприятия;
    - Данные: 
        - о Номенклатуре (3 позиции);
        - о Поставщике;
        - об Оптовых Клиентах.  
- Отразить:
    - Закупку у Поставщика;
    - Три Продажи:
        - От имени  "Опт МСК";
        - От имени  "Опт Яр";
        - Розничная Продажа       

###### ч.2
###### Постановка 

###### Реализация

- Добавляем расширение:
    - Создаем в Расширении Документ "План Закупок";
    - Добавляем в Расширение:
        - Подсистему "Фин. Результат & Контроллинг"
        - Справочник "Организации".
    - Добавляем в Подсистему:
        - Документ "План Закупок"
    - В Документ "План Закупок" добавляем Реквизиты:
        - `Головная Организация` ( → тип Справочник "Организации")
        - `Дочерняя Органзация`  ( → тип Справочник "Организации")
        - `Сумма` ( → тип Число 15/2)
        - `Утвержден` ( → тип Булево)
        - `Период Действия` ( → тип Дата)
    - создаем Форму Документа `План Закупок` 
        - [Модуль Формы](https://github.com/alex-dev-2020/Spec_UT/commit/b623a7032ef24c2f4ed4b95b1b5de4437f1d4e4f) - проверяем флаг `Утвержден`
        - [Модуль Формы](https://github.com/alex-dev-2020/Spec_UT/commit/8a59f9fca54c52a4eb1c0db3791d17ec031ad508) - приводим Дату к началу Текущего Месяца
    - [Создаем](https://github.com/alex-dev-2020/Spec_UT/commit/88b9e32db478a2166f5f019cbb4696b3f08e9fb1) Регистр Сведений в расширении
    - Модуль Объекта Документа `экз_ПланЗакупок`:
        - [добавляем:](https://github.com/alex-dev-2020/Spec_UT/commit/f5a1b508df4fd28d23354675309266afb60e16e5)
            - проверку,  что План `Утвержден`;
            - Обработку проведения  *(стандартное формирование Движений)*
        - [добавляем:](https://github.com/alex-dev-2020/Spec_UT/commit/c05932cf2a59ae15785fc7fdce944bb4dfc49728) Обработку Заполнения
            - `+`  Месяц от предыдущего Документа 
    - Добавляем Роли
        - `экз_ДобавлениеИзменениеПланаЗакупокЭкзамен`
            - Документ "План Закупок":
                - Редактирование;
                - Проведение;
                - Добавление;
                - Удаление.
            - Регистр Сведений *(Расширение)*:
                -ВСЕ Права.  
        - `экз_ЧтениеПланаЗакупокЭкзамен`
            - Документ "План Закупок":
                - Просмотр;
            - Регистр Сведений *(Расширение)*:
                - Просмотр;
                - Управление Итогами;
                - Чтение Истории Данных;
                - Чтение Истории  отсутствующих Данных;
                - Просмотр Истории Данных.
        - `Полные Права` - **добавляем из ОСНОВНОЙ  Конфигурации**
            - Документ "План Закупок":
               - ВСЕ Права - **КРОМЕ интерактивного Удаления**;
            - Регистр Сведений *(Расширение)*:
               - ВСЕ Права.    
    
             
